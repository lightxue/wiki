(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{521:function(t,e,s){"use strict";s.r(e);var v=s(42),d=Object(v.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"磁盘读写压测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#磁盘读写压测"}},[t._v("#")]),t._v(" 磁盘读写压测")]),t._v(" "),s("p",[t._v("首先要了解两个特殊的设备：")]),t._v(" "),s("p",[t._v("/dev/null：回收站、无底洞")]),t._v(" "),s("p",[t._v("/dev/zero：产生字符")]),t._v(" "),s("h2",{attrs:{id:"压测磁盘写速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压测磁盘写速度"}},[t._v("#")]),t._v(" 压测磁盘写速度")]),t._v(" "),s("p",[s("code",[t._v("time dd if=/dev/zero of=/test.dbf bs=8k count=300000")])]),t._v(" "),s("p",[t._v("因为/dev/zero是一个伪设备，它只产生空字符流，对它不会产生IO，所以，IO都会集中在of文件中，of文件只用于写，所以这个命令相当于测试磁盘的写能力。")]),t._v(" "),s("h2",{attrs:{id:"压测磁盘读速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压测磁盘读速度"}},[t._v("#")]),t._v(" 压测磁盘读速度")]),t._v(" "),s("p",[s("code",[t._v("time dd if=/dev/sdb1 of=/dev/null bs=8k")])]),t._v(" "),s("p",[t._v("因为/dev/sdb1是一个物理分区，对它的读取会产生IO，/dev/null是伪设备，相当于黑洞，of到该设备不会产生IO，所以，这个命令的IO只发生在/dev/sdb1上，也相当于测试磁盘的读能力。")]),t._v(" "),s("h2",{attrs:{id:"压测同时读写速度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#压测同时读写速度"}},[t._v("#")]),t._v(" 压测同时读写速度")]),t._v(" "),s("p",[s("code",[t._v("time dd if=/dev/sdb1 of=/test1.dbf bs=8k")])]),t._v(" "),s("p",[t._v("这个命令下，一个是物理分区，一个是实际的文件，对它们的读写都会产生IO（对/dev/sdb1是读，对/test1.dbf是写），假设他们都在一个磁盘中，这个命令就相当于测试磁盘的同时读写能力。")])])}),[],!1,null,null,null);e.default=d.exports}}]);