(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{337:function(e,t,d){"use strict";d.r(t);var a=d(0),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[d("h1",{attrs:{id:"磁盘读写压测"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#磁盘读写压测","aria-hidden":"true"}},[e._v("#")]),e._v(" 磁盘读写压测")]),e._v(" "),d("p",[e._v("首先要了解两个特殊的设备：")]),e._v(" "),d("p",[e._v("/dev/null：回收站、无底洞")]),e._v(" "),d("p",[e._v("/dev/zero：产生字符")]),e._v(" "),d("h2",{attrs:{id:"压测磁盘写速度"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#压测磁盘写速度","aria-hidden":"true"}},[e._v("#")]),e._v(" 压测磁盘写速度")]),e._v(" "),d("p",[d("code",[e._v("time dd if=/dev/zero of=/test.dbf bs=8k count=300000")])]),e._v(" "),d("p",[e._v("因为/dev/zero是一个伪设备，它只产生空字符流，对它不会产生IO，所以，IO都会集中在of文件中，of文件只用于写，所以这个命令相当于测试磁盘的写能力。")]),e._v(" "),d("h2",{attrs:{id:"压测磁盘读速度"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#压测磁盘读速度","aria-hidden":"true"}},[e._v("#")]),e._v(" 压测磁盘读速度")]),e._v(" "),d("p",[d("code",[e._v("time dd if=/dev/sdb1 of=/dev/null bs=8k")])]),e._v(" "),d("p",[e._v("因为/dev/sdb1是一个物理分区，对它的读取会产生IO，/dev/null是伪设备，相当于黑洞，of到该设备不会产生IO，所以，这个命令的IO只发生在/dev/sdb1上，也相当于测试磁盘的读能力。")]),e._v(" "),d("h2",{attrs:{id:"压测同时读写速度"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#压测同时读写速度","aria-hidden":"true"}},[e._v("#")]),e._v(" 压测同时读写速度")]),e._v(" "),d("p",[d("code",[e._v("time dd if=/dev/sdb1 of=/test1.dbf bs=8k")])]),e._v(" "),d("p",[e._v("这个命令下，一个是物理分区，一个是实际的文件，对它们的读写都会产生IO（对/dev/sdb1是读，对/test1.dbf是写），假设他们都在一个磁盘中，这个命令就相当于测试磁盘的同时读写能力。")])])}),[],!1,null,null,null);t.default=s.exports}}]);