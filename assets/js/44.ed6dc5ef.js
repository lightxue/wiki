(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{335:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sed","aria-hidden":"true"}},[t._v("#")]),t._v(" sed")]),t._v(" "),s("h2",{attrs:{id:"小技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小技巧","aria-hidden":"true"}},[t._v("#")]),t._v(" 小技巧")]),t._v(" "),s("ul",[s("li",[t._v("原文件替换")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.bak'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/xxx/yyy/g'")]),t._v(" *.txt\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -i "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/xxx/yyy/g'")]),t._v(" *.txt\n")])])]),s("ul",[s("li",[t._v("打印99乘法表")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("seq")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'H;g'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" -v "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{for(i=1;i<=NF;i++)printf("%dx%d=%d%s", i, NR, i*NR, i==NR?"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('":"'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[t._v("\\t")]),t._v("\")}'")]),t._v("\n")])])]),s("h2",{attrs:{id:"pattern-space和hold-space"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pattern-space和hold-space","aria-hidden":"true"}},[t._v("#")]),t._v(" pattern space和hold space")]),t._v(" "),s("h3",{attrs:{id:"用途"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用途","aria-hidden":"true"}},[t._v("#")]),t._v(" 用途")]),t._v(" "),s("ul",[s("li",[t._v("pattern space是存储当前处理的行的缓冲区")]),t._v(" "),s("li",[t._v("hold space可以拿来当临时存储空间")])]),t._v(" "),s("h3",{attrs:{id:"sed工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sed工作流程","aria-hidden":"true"}},[t._v("#")]),t._v(" sed工作流程")]),t._v(" "),s("ul",[s("li",[t._v("sed先读入一行，去掉尾部换行符，存入pattern space，执行编辑命令。")]),t._v(" "),s("li",[t._v("处理完毕，除非加了-n参数，把现在的pattern space打印出来，在后边打印曾去掉的换行符。")]),t._v(" "),s("li",[t._v("把pattern space置空。")]),t._v(" "),s("li",[t._v("接着读下一行，处理下一行。")])]),t._v(" "),s("p",[t._v("特殊情况，一个文件仅一行，尾部没换行，sed只打印，不会尾部加换行，但若在尾部又附加了输出，他会再补上那个换行。")]),t._v(" "),s("h3",{attrs:{id:"操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 操作")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("功能")]),t._v(" "),s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("介绍")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Hold")]),t._v(" "),s("td",[t._v("h or H")]),t._v(" "),s("td",[t._v("Copy or append contents of pattern space to hold space.")])]),t._v(" "),s("tr",[s("td",[t._v("Get")]),t._v(" "),s("td",[t._v("g or G")]),t._v(" "),s("td",[t._v("Copy or append contents of hold space to pattern space.")])]),t._v(" "),s("tr",[s("td",[t._v("Exchange")]),t._v(" "),s("td",[t._v("x")]),t._v(" "),s("td",[t._v("Swap contents of hold space and pattern space.")])]),t._v(" "),s("tr",[s("td",[t._v("Delete")]),t._v(" "),s("td",[t._v("d")]),t._v(" "),s("td",[t._v("Delete pattern space.  "),s("em",[t._v("Start next cycle")]),t._v(".")])]),t._v(" "),s("tr",[s("td",[t._v("Delete")]),t._v(" "),s("td",[t._v("D")]),t._v(" "),s("td",[t._v("Delete  up  to  the  first  embedded newline in the pattern space.")])]),t._v(" "),s("tr",[s("td",[t._v("/")]),t._v(" "),s("td",[t._v("/")]),t._v(" "),s("td",[s("em",[t._v("Start next cycle")]),t._v(", but skip reading from the input if there is still data in the pattern space.")])]),t._v(" "),s("tr",[s("td",[t._v("Next")]),t._v(" "),s("td",[t._v("n or N")]),t._v(" "),s("td",[t._v("Read/append the next line of input into the pattern space.")])])])]),t._v(" "),s("h3",{attrs:{id:"例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#例子","aria-hidden":"true"}},[t._v("#")]),t._v(" 例子")]),t._v(" "),s("ul",[s("li",[t._v("交换第1行和第2行的内容")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -n "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1{h;n;x;H;x};p'")]),t._v(" filename\n")])])]),s("ul",[s("li",[t._v("用sed实现tac的功能")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -n -e "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1!G;h;"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$p")]),t._v("'")]),t._v(" filename\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -e "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1!G;h;"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$!")]),t._v("d'")]),t._v(" filename\n")])])]),s("p",[s("code",[t._v("1!G")]),t._v("表示除了第一行之外，都执行G操作。")]),t._v(" "),s("p",[s("code",[t._v("$p")]),t._v("表示对最后一行直接打印pattern space里的内容，其实就是直接打印最后一行的原文。")]),t._v(" "),s("ul",[s("li",[t._v("替换所有换行符，解释在"),s("a",{attrs:{href:"http://stackoverflow.com/questions/1251999/how-can-i-replace-a-newline-n-using-sed",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("':a;N;"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$!")]),t._v("ba;s/"),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v("/ /g'")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);