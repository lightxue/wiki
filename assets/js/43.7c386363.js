(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{276:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),e("p",[t._v("特殊情况，一个文件仅一行，尾部没换行，sed只打印，不会尾部加换行，但若在尾部又附加了输出，他会再补上那个换行。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),e("ul",[e("li",[t._v("替换所有换行符，解释在"),e("a",{attrs:{href:"http://stackoverflow.com/questions/1251999/how-can-i-replace-a-newline-n-using-sed",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),e("OutboundLink")],1)])]),t._v(" "),t._m(20)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"sed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sed","aria-hidden":"true"}},[this._v("#")]),this._v(" sed")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"小技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小技巧","aria-hidden":"true"}},[this._v("#")]),this._v(" 小技巧")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("原文件替换")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token function"}},[t._v("sed")]),t._v(" -i "),e("span",{attrs:{class:"token string"}},[t._v("'.bak'")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'s/xxx/yyy/g'")]),t._v(" *.txt\n"),e("span",{attrs:{class:"token function"}},[t._v("sed")]),t._v(" -i "),e("span",{attrs:{class:"token string"}},[t._v("''")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'s/xxx/yyy/g'")]),t._v(" *.txt\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("打印99乘法表")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token function"}},[t._v("seq")]),t._v(" 9 "),e("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'H;g'")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("awk")]),t._v(" -v RS"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v("''")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('\'{for(i=1;i<=NF;i++)printf("%dx%d=%d%s", i, NR, i*NR, i==NR?"\\n":"\\t")}\'')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"pattern-space和hold-space"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pattern-space和hold-space","aria-hidden":"true"}},[this._v("#")]),this._v(" pattern space和hold space")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"用途"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用途","aria-hidden":"true"}},[this._v("#")]),this._v(" 用途")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("pattern space是存储当前处理的行的缓冲区")]),this._v(" "),s("li",[this._v("hold space可以拿来当临时存储空间")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"sed工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sed工作流程","aria-hidden":"true"}},[this._v("#")]),this._v(" sed工作流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("sed先读入一行，去掉尾部换行符，存入pattern space，执行编辑命令。")]),this._v(" "),s("li",[this._v("处理完毕，除非加了-n参数，把现在的pattern space打印出来，在后边打印曾去掉的换行符。")]),this._v(" "),s("li",[this._v("把pattern space置空。")]),this._v(" "),s("li",[this._v("接着读下一行，处理下一行。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作","aria-hidden":"true"}},[this._v("#")]),this._v(" 操作")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("功能")]),t._v(" "),e("th",[t._v("命令")]),t._v(" "),e("th",[t._v("介绍")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Hold")]),t._v(" "),e("td",[t._v("h or H")]),t._v(" "),e("td",[t._v("Copy or append contents of pattern space to hold space.")])]),t._v(" "),e("tr",[e("td",[t._v("Get")]),t._v(" "),e("td",[t._v("g or G")]),t._v(" "),e("td",[t._v("Copy or append contents of hold space to pattern space.")])]),t._v(" "),e("tr",[e("td",[t._v("Exchange")]),t._v(" "),e("td",[t._v("x")]),t._v(" "),e("td",[t._v("Swap contents of hold space and pattern space.")])]),t._v(" "),e("tr",[e("td",[t._v("Delete")]),t._v(" "),e("td",[t._v("d")]),t._v(" "),e("td",[t._v("Delete pattern space.  "),e("em",[t._v("Start next cycle")]),t._v(".")])]),t._v(" "),e("tr",[e("td",[t._v("Delete")]),t._v(" "),e("td",[t._v("D")]),t._v(" "),e("td",[t._v("Delete  up  to  the  first  embedded newline in the pattern space.")])]),t._v(" "),e("tr",[e("td",[t._v("/")]),t._v(" "),e("td",[t._v("/")]),t._v(" "),e("td",[e("em",[t._v("Start next cycle")]),t._v(", but skip reading from the input if there is still data in the pattern space.")])]),t._v(" "),e("tr",[e("td",[t._v("Next")]),t._v(" "),e("td",[t._v("n or N")]),t._v(" "),e("td",[t._v("Read/append the next line of input into the pattern space.")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#例子","aria-hidden":"true"}},[this._v("#")]),this._v(" 例子")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("交换第1行和第2行的内容")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("sed")]),this._v(" -n "),s("span",{attrs:{class:"token string"}},[this._v("'1{h;n;x;H;x};p'")]),this._v(" filename\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("用sed实现tac的功能")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token function"}},[t._v("sed")]),t._v(" -n -e "),e("span",{attrs:{class:"token string"}},[t._v("'1!G;h;"),e("span",{attrs:{class:"token variable"}},[t._v("$p")]),t._v("'")]),t._v(" filename\n"),e("span",{attrs:{class:"token function"}},[t._v("sed")]),t._v(" -e "),e("span",{attrs:{class:"token string"}},[t._v("'1!G;h;"),e("span",{attrs:{class:"token variable"}},[t._v("$!d")]),t._v("'")]),t._v(" filename\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("1!G")]),this._v("表示除了第一行之外，都执行G操作。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("$p")]),this._v("表示对最后一行直接打印pattern space里的内容，其实就是直接打印最后一行的原文。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("sed")]),this._v(" "),s("span",{attrs:{class:"token string"}},[this._v("':a;N;"),s("span",{attrs:{class:"token variable"}},[this._v("$!ba")]),this._v(";s/\\n/ /g'")]),this._v("\n")])])])}],!1,null,null,null);n.options.__file="index.md";s.default=n.exports}}]);