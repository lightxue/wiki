
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Python · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../c-cpp/" />
    
    
    <link rel="prev" href="../../" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Language</li>
        
        
    
        <li class="chapter active" data-level="2.1" data-path="./">
            
                <a href="./">
            
                    
                    Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../c-cpp/">
            
                <a href="../c-cpp/">
            
                    
                    C/C++
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">System</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../system/linux/">
            
                <a href="../../system/linux/">
            
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../system/linux/coredump.html">
            
                <a href="../../system/linux/coredump.html">
            
                    
                    coredump
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../system/linux/epoll-intro.html">
            
                <a href="../../system/linux/epoll-intro.html">
            
                    
                    epool初步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../system/linux/fight-with-garbled-characters.html">
            
                <a href="../../system/linux/fight-with-garbled-characters.html">
            
                    
                    乱码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../../system/linux/linux-performance-note.html">
            
                <a href="../../system/linux/linux-performance-note.html">
            
                    
                    linux性能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="../../system/linux/thinking-in-epoll.html">
            
                <a href="../../system/linux/thinking-in-epoll.html">
            
                    
                    epoll
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../system/mac/">
            
                <a href="../../system/mac/">
            
                    
                    Mac OS X
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../system/windows/">
            
                <a href="../../system/windows/">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Tools</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../tools/shell/">
            
                <a href="../../tools/shell/">
            
                    
                    shell
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../tools/shell/dd-speed-test.html">
            
                <a href="../../tools/shell/dd-speed-test.html">
            
                    
                    dd硬盘测试速度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../tools/shell/string-escape.html">
            
                <a href="../../tools/shell/string-escape.html">
            
                    
                    bash的字符串转义
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../../tools/shell/logrotate-examples.html">
            
                <a href="../../tools/shell/logrotate-examples.html">
            
                    
                    logrotate示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../../tools/shell/ssh-without-password.html">
            
                <a href="../../tools/shell/ssh-without-password.html">
            
                    
                    ssh免密码登录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../../tools/shell/samba.html">
            
                <a href="../../tools/shell/samba.html">
            
                    
                    samba配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../tools/vim/">
            
                <a href="../../tools/vim/">
            
                    
                    Vim
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../../tools/vim/vim-current-env.html">
            
                <a href="../../tools/vim/vim-current-env.html">
            
                    
                    环境变量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../tools/awk.html">
            
                <a href="../../tools/awk.html">
            
                    
                    AWK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../../tools/gdb.html">
            
                <a href="../../tools/gdb.html">
            
                    
                    GDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../../tools/git.html">
            
                <a href="../../tools/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../../tools/mysql.html">
            
                <a href="../../tools/mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../../tools/nginx.html">
            
                <a href="../../tools/nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="../../tools/sed.html">
            
                <a href="../../tools/sed.html">
            
                    
                    sed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="../../tools/tmux.html">
            
                <a href="../../tools/tmux.html">
            
                    
                    tmux
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Rubik</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../rubik/">
            
                <a href="../../rubik/">
            
                    
                    通用转法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../rubik/gan.html">
            
                <a href="../../rubik/gan.html">
            
                    
                    gan转法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../rubik/oll.html">
            
                <a href="../../rubik/oll.html">
            
                    
                    OLL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../../rubik/pll.html">
            
                <a href="../../rubik/pll.html">
            
                    
                    PLL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../../rubik/mini-cube.html">
            
                <a href="../../rubik/mini-cube.html">
            
                    
                    二阶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../../rubik/revenge.html">
            
                <a href="../../rubik/revenge.html">
            
                    
                    四阶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="../../rubik/2x2x3-cube.html">
            
                <a href="../../rubik/2x2x3-cube.html">
            
                    
                    2x2x3
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Books</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../books/what-did-philosophers-do.html">
            
                <a href="../../books/what-did-philosophers-do.html">
            
                    
                    哲学家们都干了些什么
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Other</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../other/ascii-art.html">
            
                <a href="../../other/ascii-art.html">
            
                    
                    Ascii art
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Python</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="python">Python</h1>
<ul>
<li><p>&#x6700;&#x8FD1;&#x7ECF;&#x5E38;&#x5728;linux&#x6267;&#x884C;python&#x7A0B;&#x5E8F;&#xFF0C;&#x6BD4;&#x5982;./server.py&#xFF0C;&#x4F1A;&#x63D0;&#x793A;&#x201C;: No such file or directory&#x201D;&#xFF0C;&#x4EE4;&#x4EBA;&#x4E0D;&#x89E3;&#x3002;&#x539F;&#x6765;&#x662F;&#x6362;&#x884C;&#x7B26;&#x662F;dos&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x8FD9;&#x6837;&#xFF0C;&#x6539;&#x6210;unix&#x6362;&#x884C;&#x7B26;&#x5C31;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x4E86;</p>
</li>
<li><p>datetime&#x7C7B;&#x578B;&#x5BF9;&#x8C61;&#x548C;1970&#x5E74;&#x4EE5;&#x6765;&#x7684;&#x79D2;&#x6570;&#x4E92;&#x8F6C;&#xFF0C;datetime.datetime.now()&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;datetime&#x5BF9;&#x8C61;&#xFF0C;time.time()&#x8FD4;&#x56DE;&#x7684;&#x662F;1970&#x5E74;&#x5230;&#x73B0;&#x5728;&#x7684;&#x79D2;&#x6570;&#x3002;&#x8865;&#x5145;&#x4E00;&#x4E0B;&#xFF0C;UTC&#x662F;&#x4E16;&#x754C;&#x534F;&#x8C03;&#x65F6;&#x95F4;(&#x5BF9;&#x4E8E;UTC&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x7684;&#x6765;&#x6E90;&#x65E0;&#x529B;&#x5410;&#x69FD;&#xFF0C;&#x8BE6;&#x89C1;&#x7EF4;&#x57FA;&#x767E;&#x79D1;)&#xFF0C;&#x867D;&#x7136;GMT&#x65F6;&#x95F4;&#x4E0D;&#x518D;&#x7528;&#xFF0C;&#x4F46;&#x6211;YY&#x53EF;&#x4EE5;&#x628A;UTC&#x548C;GMT&#x7B49;&#x540C;&#x3002;</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> time

time.mktime(datetime.datetime.now().timetuple())
datetime.datetime.fromtimestamp(time.time())
</code></pre>
<ul>
<li>time&#x3001;datetime&#x3001;str&#x4E92;&#x8F6C;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment"># &#x628A;datetime&#x8F6C;&#x6210;&#x5B57;&#x7B26;&#x4E32;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">datetime_toString</span><span class="hljs-params">(dt)</span>:</span>
    <span class="hljs-keyword">return</span> dt.strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)

<span class="hljs-comment"># &#x628A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6210;datetime</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">string_toDatetime</span><span class="hljs-params">(string)</span>:</span>
    <span class="hljs-keyword">return</span> datetime.datetime.strptime(string, <span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)

<span class="hljs-comment"># &#x628A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6210;&#x65F6;&#x95F4;&#x6233;&#x5F62;&#x5F0F;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">string_toTimestamp</span><span class="hljs-params">(strTime)</span>:</span>
    <span class="hljs-keyword">return</span> time.mktime(string_toDatetime(strTime).timetuple())

<span class="hljs-comment"># &#x628A;&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">timestamp_toString</span><span class="hljs-params">(stamp)</span>:</span>
    <span class="hljs-keyword">return</span> time.strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, time.localtime(stamp))

<span class="hljs-comment"># &#x628A;datetime&#x7C7B;&#x578B;&#x8F6C;&#x5916;&#x65F6;&#x95F4;&#x6233;&#x5F62;&#x5F0F;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">datetime_toTimestamp</span><span class="hljs-params">(dateTim)</span>:</span>
    <span class="hljs-keyword">return</span> time.mktime(dateTim.timetuple())

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">timestamp_toDatetime</span><span class="hljs-params">(timestamp)</span>:</span>
    <span class="hljs-keyword">return</span> datetime.datetime.fromtimestamp(timestamp)
</code></pre>
<ul>
<li><p>urllib2.unquote(url)</p>
</li>
<li><p>&#x7A0B;&#x5E8F;&#x73AF;&#x5883;&#x53D8;&#x91CF;</p>
</li>
</ul>
<pre><code class="lang-python">os.environ
</code></pre>
<ul>
<li>&#x5B50;&#x7C7B;&#x521D;&#x59CB;&#x5316;&#x7236;&#x7C7B;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment"># new style class&#x4E5F;&#x80FD;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, s)</span>:</span>
        <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;base::init&apos;</span>, s

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span><span class="hljs-params">(B)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, s)</span>:</span>
        <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;child::init&apos;</span>, s
        B.__init__(self, s)

<span class="hljs-comment"># new style class only</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span><span class="hljs-params">(object)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, s)</span>:</span>
        <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;base::init&apos;</span>, s

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span><span class="hljs-params">(B)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, s)</span>:</span>
        <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;child::init&apos;</span>, s
        super(C, self).__init__(s)
</code></pre>
<ul>
<li>xml&#x8F6C;&#x6210;dict</li>
</ul>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">xml2dict</span><span class="hljs-params">(node, dic = {})</span>:</span>
    dic[node.tag] = ndic = {}
    [xml2dict(child, ndic) <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> node.getchildren() <span class="hljs-keyword">if</span> child != node]
    ndic[<span class="hljs-string">&apos;text&apos;</span>] = node.text.strip()
    <span class="hljs-keyword">return</span> dic

<span class="hljs-keyword">from</span> xml.etree <span class="hljs-keyword">import</span> cElementTree <span class="hljs-keyword">as</span> ET
tree = ET.parse(<span class="hljs-string">&apos;test.xml&apos;</span>)
<span class="hljs-keyword">print</span> xml2dict(tree.getroot())
</code></pre>
<ul>
<li>ini to dict</li>
</ul>
<pre><code class="lang-python">cf = ConfigParser.ConfigParser()
cf.read(filename)
<span class="hljs-keyword">return</span> dict(cf.__dict__[<span class="hljs-string">&apos;_sections&apos;</span>].copy()) <span class="hljs-comment">#&#x91CC;&#x9762;&#x6709;&#x7684;value&#x662F;orderdict</span>
</code></pre>
<ul>
<li>python&#x5F0F;enum</li>
</ul>
<pre><code class="lang-python">ALL_TYPES = (
    TOP_LEVEL,  <span class="hljs-comment"># The type of the &apos;Google Chrome&apos; folder.</span>
    APPS,
    APP_NOTIFICATION,
    APP_SETTINGS,
    AUTOFILL,
    AUTOFILL_PROFILE,
    BOOKMARK,
    EXTENSIONS,
    HISTORY_DELETE_DIRECTIVE,
    NIGORI,
    PASSWORD,
    PREFERENCE,
    SEARCH_ENGINE,
    SESSION,
    THEME,
    TYPED_URL,
    EXTENSION_SETTINGS) = range(<span class="hljs-number">17</span>)
</code></pre>
<ul>
<li><p><code>is</code> will return <code>True</code> if two variables point to the same object, <code>==</code> if the objects referred to by the variables are equal.</p>
</li>
<li><p>&#x8BA1;&#x7B97;md5&#x548C;sha1</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> hashlib

md5 = hashlib.md5()
md5.update(<span class="hljs-string">&apos;string to digest&apos;</span>)
<span class="hljs-keyword">print</span> md5.hexdigest()

sha = hashlib.sha1()
sha.update(<span class="hljs-string">&apos;string to digest&apos;</span>)
<span class="hljs-keyword">print</span> sha.hexdigest()
</code></pre>
<ul>
<li>base64&#x7F16;&#x89E3;&#x7801;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> base64
s = <span class="hljs-string">&apos;this is a text&apos;</span>
encstr = base64.encodestring(s)
decstr = base64.decodestring(encstr)
</code></pre>
<ul>
<li>&#x968F;&#x673A;&#x5B57;&#x7B26;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> os
length = <span class="hljs-number">10</span>
<span class="hljs-keyword">print</span> os.urandom(length)
</code></pre>
<ul>
<li>getter and setter&#xFF0C;&#x4E0D;&#x8981;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x91CC;&#x7528;&#x8FD9;&#x4E2A;&#x4F2A;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x628A;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8986;&#x76D6;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>:</span>
        self._channel
<span class="hljs-meta">    @property</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">channel</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> self._channel

<span class="hljs-meta">    @channel.setter</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">channel</span><span class="hljs-params">(self, channel)</span>:</span>
        self._channel = channel
</code></pre>
<ul>
<li>&#x811A;&#x672C;&#x6240;&#x5728;&#x4F4D;&#x7F6E;</li>
</ul>
<pre><code class="lang-python">__file__

<span class="hljs-comment"># &#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x80FD;&#x6253;&#x51FA;&#x884C;&#x53F7;</span>
<span class="hljs-keyword">from</span> inspect <span class="hljs-keyword">import</span> currentframe, getframeinfo

frameinfo = getframeinfo(currentframe())
<span class="hljs-keyword">print</span> frameinfo.filename, frameinfo.lineno
</code></pre>
<ul>
<li>&#x5F02;&#x5E38;&#x6240;&#x5728;&#x7684;&#x884C;&#x53F7;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> sys, os

<span class="hljs-keyword">try</span>:
    <span class="hljs-keyword">raise</span> NotImplementedError(<span class="hljs-string">&quot;No error&quot;</span>)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    exc_type, exc_obj, exc_tb = sys.exc_info()
    fname = os.path.split(exc_tb.tb_frame.f_code.co_filename)[<span class="hljs-number">1</span>]
    print(exc_type, fname, exc_tb.tb_lineno)
</code></pre>
<ul>
<li>&#x5217;&#x8868;&#x62F7;&#x8D1D;</li>
</ul>
<pre><code class="lang-python">    new_list = old_list[:] <span class="hljs-comment"># &#x53EF;&#x8BED;&#x6027;&#x4E0D;&#x592A;&#x597D;</span>

    new_list = list(old_list) <span class="hljs-comment"># &#x8FD9;&#x4E2A;&#x5F88;&#x76F4;&#x89C2;</span>

    <span class="hljs-keyword">import</span> copy
    new_list = copy.copy(old_list) <span class="hljs-comment"># &#x6BD4;list()&#x6162;&#x4E00;&#x70B9;&#xFF0C;&#x56E0;&#x4E3A;&#x9700;&#x8981;&#x67E5;&#x51FA;old_list&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</span>

    <span class="hljs-keyword">import</span> copy
    new_list = copy.deepcopy(old_list) <span class="hljs-comment"># &#x6DF1;&#x5EA6;&#x62F7;&#x8D1D;&#xFF0C;&#x66F4;&#x6162;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x65F6;&#x6709;&#x5FC5;&#x8981;</span>

    new_list = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> old_list]
</code></pre>
<ul>
<li>&#x5217;&#x8868;&#x6E05;&#x7A7A;</li>
</ul>
<pre><code class="lang-python">    old_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]

    <span class="hljs-comment"># &#x65B9;&#x6CD5;1</span>
    old_list[:] = []

    <span class="hljs-comment"># &#x65B9;&#x6CD5;2</span>
    new_list = old_list
    <span class="hljs-keyword">del</span> new_list[:]
</code></pre>
<ul>
<li>&#x5B57;&#x5178;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;</li>
</ul>
<pre><code class="lang-python">    d = {<span class="hljs-string">&apos;name&apos;</span> : <span class="hljs-string">&apos;lightxue&apos;</span>, <span class="hljs-string">&apos;gender&apos;</span> : <span class="hljs-string">&apos;male&apos;</span>}
    <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;your name is %(name)s, gender is %(gender)s&apos;</span> % d
</code></pre>
<ul>
<li><p>id(object)&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</p>
</li>
<li><p>&#x53D8;&#x91CF;&#x4F5C;&#x7528;&#x57DF;&#xFF1A;LEGB(Local-&gt;&#x51FD;&#x6570;&#xFF0C;def&#x548C;lambda&#xFF1B;Enclosing-&gt;&#x95ED;&#x5305;&#xFF0C;def&#x548C;lambda&#xFF1B;Global-&gt;&#x5168;&#x5C40;&#xFF0C;&#x5728;module&#x91CC;&#xFF1B;Buid-in-&gt;&#x5185;&#x7F6E;)</p>
</li>
<li><p>binary &lt;-&gt; hex string</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-meta">&gt;&gt;&gt; </span>s = <span class="hljs-string">&apos;\x01\xff&apos;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>s.encode(<span class="hljs-string">&apos;hex_codec&apos;</span>)
<span class="hljs-string">&apos;01ff&apos;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>s.encode(<span class="hljs-string">&apos;hex_codec&apos;</span>).decode(<span class="hljs-string">&apos;hex_codec&apos;</span>)
<span class="hljs-string">&apos;\x01\xff&apos;</span>
</code></pre>
<ul>
<li>&#x77E9;&#x9635;&#x8F6C;&#x7F6E;</li>
</ul>
<pre><code class="lang-python">arr = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]]
<span class="hljs-keyword">print</span> map(list, zip(*arr))
</code></pre>
<ul>
<li>unicode unescape</li>
</ul>
<pre><code class="lang-python">s = <span class="hljs-string">r&apos;\u751f\u547d&apos;</span>
<span class="hljs-keyword">print</span> s.decode(<span class="hljs-string">&apos;unicode-escape&apos;</span>)
</code></pre>
<ul>
<li>string unescape</li>
</ul>
<pre><code class="lang-python">s = <span class="hljs-string">r&apos;\xe7\x94\x9f\xe5\x91\xbd&apos;</span>
<span class="hljs-keyword">print</span> s.decode(<span class="hljs-string">&apos;string-escape&apos;</span>)
</code></pre>
<ul>
<li><p>list&#x6709;&#x51FD;&#x6570;&#x53EB;count&#xFF0C;&#x6BD4;&#x8F83;&#x5B9E;&#x7528;</p>
</li>
<li><p>&#x663E;&#x793A;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6C47;&#x7F16;&#x4EE3;&#x7801;</p>
</li>
</ul>
<pre><code class="lang-python">python -m dis file.py
</code></pre>
<ul>
<li>&#x770B;&#x51FD;&#x6570;/&#x7C7B;&#x7684;&#x6C47;&#x7F16;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment">#!/usr/bin/env python</span>
<span class="hljs-comment"># encoding: utf-8</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span><span class="hljs-params">(*args)</span>:</span>
    nargs = len(args)
    <span class="hljs-keyword">print</span> nargs, args

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyObject</span><span class="hljs-params">(object)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;Example for dis.&quot;&quot;&quot;</span>

    CLASS_ATTRIBUTE = <span class="hljs-string">&apos;some value&apos;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name)</span>:</span>
        self.name = name

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;MyObject(%s)&apos;</span> % self.name

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    <span class="hljs-keyword">import</span> dis
    dis.dis(f)
    dis.dis(MyObject)
</code></pre>
<ul>
<li>&#x7528;dis&#x8C03;&#x8BD5;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment">#!/usr/bin/env python</span>
<span class="hljs-comment"># encoding: utf-8</span>

i = <span class="hljs-number">1</span>
j = <span class="hljs-number">0</span>
k = <span class="hljs-number">3</span>

<span class="hljs-comment"># ... many lines removed ...</span>

<span class="hljs-keyword">try</span>:
    result = k * (i / j) + (i / k)
<span class="hljs-keyword">except</span>:
    <span class="hljs-keyword">import</span> dis
    <span class="hljs-keyword">import</span> sys
    exc_type, exc_value, exc_tb = sys.exc_info()
    dis.distb(exc_tb)
</code></pre>
<ul>
<li>&#x628A;py&#x7F16;&#x8BD1;&#x6210;pyc</li>
</ul>
<pre><code class="lang-python">python -m py_compile file.py
</code></pre>
<ul>
<li><p>&#x6700;&#x6DF1;&#x4EE3;&#x7801;&#x5757;&#x9650;&#x5236;&#xFF0C;&#x5728;python27&#x6E90;&#x4EE3;&#x7801;&#x91CC;&#x770B;&#x5230;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;</p>
<pre><code class="lang-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CO_MAXBLOCKS 20 <span class="hljs-comment">/* Max static block nesting within a function */</span></span>
</code></pre>
</li>
<li><p>&#x5408;&#x5E76;&#x4E24;&#x4E2A;dict</p>
<pre><code class="lang-c">d = {<span class="hljs-string">&apos;a&apos;</span> : <span class="hljs-number">1</span>, <span class="hljs-string">&apos;b&apos;</span> : <span class="hljs-number">2</span>}
d.update({<span class="hljs-string">&apos;a&apos;</span> : <span class="hljs-number">4</span>, <span class="hljs-string">&apos;c&apos;</span> : <span class="hljs-number">3</span>})
print d
<span class="hljs-meta">#{<span class="hljs-string">&apos;a&apos;</span> : 4, <span class="hljs-string">&apos;b&apos;</span> : 2, <span class="hljs-string">&apos;c&apos;</span> : 3}</span>
</code></pre>
</li>
<li><p>dict.setdefault&#x975E;&#x5E38;&#x5B9E;&#x7528;</p>
</li>
<li><p>&#x5728;&#x4EA4;&#x4E92;&#x754C;&#x9762;&#x91CC;&#xFF0C;<code>_</code>&#x4FDD;&#x5B58;&#x4E86;&#x6700;&#x540E;&#x6253;&#x5370;&#x7684;&#x53D8;&#x91CF;</p>
</li>
<li><p><code>class.__mro__</code>&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#xFF0C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x987A;&#x5E8F;</p>
</li>
<li><p>proto buf&#x7684;encoder.py&#x91CC;&#x7684;&#x4E00;&#x6BB5;&#x6CE8;&#x91CA;
```</p>
</li>
<li>We copy any needed global functions to local variables, so that we do not need
to do costly global table lookups at runtime.</li>
<li>Similarly, we try to do any attribute lookups at startup time if possible.</li>
<li>Every field&apos;s tag is encoded to bytes at startup, since it can&apos;t change at
runtime.</li>
<li>Whatever component of the field size we can compute at startup, we do.</li>
<li>We <em>avoid</em> sharing code if doing so would make the code slower and not sharing
does not burden us too much.  For example, encoders for repeated fields do
not just call the encoders for singular fields in a loop because this would
add an extra function call overhead for every loop iteration; instead, we
manually inline the single-value encoder into the loop.</li>
<li><p>If a Python function lacks a return statement, Python actually generates
instructions to pop the result of the last statement off the stack, push
None onto the stack, and then return that.  If we really don&apos;t care what
value is returned, then we can save two instructions by returning the
result of the last statement.  It looks funny but it helps.
```</p>
</li>
<li><p>py&#x6587;&#x4EF6;&#x7F16;&#x8BD1;&#x6210;pyc</p>
<pre><code>python -m py_compile file.py
</code></pre></li>
<li><p>any&#x4E0D;&#x5F88;&#x9519;</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment"># ugly</span>
<span class="hljs-keyword">if</span> needle.endswith(<span class="hljs-string">&apos;ly&apos;</span>) <span class="hljs-keyword">or</span> needle.endswith(<span class="hljs-string">&apos;ed&apos;</span>) <span class="hljs-keyword">or</span> 
    needle.endswith(<span class="hljs-string">&apos;ing&apos;</span>) <span class="hljs-keyword">or</span> needle.endswith(<span class="hljs-string">&apos;ers&apos;</span>):
    print(<span class="hljs-string">&apos;Is valid&apos;</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">&apos;Invalid&apos;</span>)

<span class="hljs-comment"># pretty</span>
<span class="hljs-keyword">if</span> any([needle.endswith(e) <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> (<span class="hljs-string">&apos;ly&apos;</span>, <span class="hljs-string">&apos;ed&apos;</span>, <span class="hljs-string">&apos;ing&apos;</span>, <span class="hljs-string">&apos;ers&apos;</span>)]):
    print(<span class="hljs-string">&apos;Is valid&apos;</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">&apos;Invalid&apos;</span>)

<span class="hljs-comment"># better</span>
<span class="hljs-keyword">if</span> needle.endswith((<span class="hljs-string">&apos;ly&apos;</span>, <span class="hljs-string">&apos;ed&apos;</span>, <span class="hljs-string">&apos;ing&apos;</span>, <span class="hljs-string">&apos;ers&apos;</span>)):
    print(<span class="hljs-string">&apos;Is valid&apos;</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">&apos;Invalid&apos;</span>)
</code></pre>
<ul>
<li>&#x5217;&#x8868;&#x5206;&#x6210;n&#x4E2A;&#x5143;&#x7D20;&#x4E00;&#x7EC4;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-meta">&gt;&gt;&gt; </span>l = [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>zip(*([iter(l)] * <span class="hljs-number">3</span>))
[(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>)]
</code></pre>
<ul>
<li>&#x627E;&#x51FA;&#x6587;&#x4EF6;&#x6700;&#x957F;&#x884C;</li>
</ul>
<pre><code class="lang-python">max(open(<span class="hljs-string">&apos;test.txt&apos;</span>), key=len)
</code></pre>
<ul>
<li>&#x6574;&#x6570;&#x6240;&#x6709;&#x6570;&#x5B57;&#x76F8;&#x52A0;&#x4E4B;&#x548C;</li>
</ul>
<pre><code class="lang-python">sum(map(int, str(n)))
</code></pre>
<ul>
<li>&#x6B63;&#x65E0;&#x7A77;&#x548C;&#x8D1F;&#x65E0;&#x7A77;</li>
</ul>
<pre><code class="lang-python">float(<span class="hljs-string">&apos;Inf&apos;</span>)
float(<span class="hljs-string">&apos;-Inf&apos;</span>)
</code></pre>
<ul>
<li><p><code>__all__</code>&#xFF0C;&#x5217;&#x8868;&#x6216;&#x5143;&#x7EC4;&#xFF0C;&#x6307;&#x51FA;&#x8BE5;&#x6A21;&#x5757;import&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x5BF9;&#x8C61;</p>
</li>
<li><p>&#x663E;&#x793A;import&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x7684;&#x5305;</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment"># import&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x7684;&#x5305;</span>
<span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> tasks
<span class="hljs-keyword">from</span> .log <span class="hljs-keyword">import</span> logger
<span class="hljs-comment"># &#x4E0A;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#x7684;&#x5305;</span>
<span class="hljs-keyword">from</span> .. <span class="hljs-keyword">import</span> tasks
</code></pre>
<ul>
<li><p>[Why are Python strings immutable?]
 (<a href="https://docs.python.org/2/faq/design.html#why-are-python-strings-immutable" target="_blank">https://docs.python.org/2/faq/design.html#why-are-python-strings-immutable</a>)</p>
<blockquote>
<p>   There are several advantages.</p>
<p>   One is performance: knowing that a string is immutable</p>
<pre><code>   means we can allocate space for it at creation time,
   and the storage requirements are fixed and unchanging.
   This is also one of the reasons for the distinction between
   tuples and lists.
</code></pre><p>   Another advantage is that strings in Python are considered as</p>
<pre><code>   &quot;elemental&quot; as numbers. No amount of activity will change
   the value 8 to anything else, and in Python, no amount of
   activity will change the string &#x201C;eight&#x201D; to anything else.
</code></pre></blockquote>
</li>
<li><p>&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7684;ascii&#x7F16;&#x7801;&#x8F6C;&#x6362;unicode&#x548C;str</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> sys
reload(sys)
sys.setdefaultencoding(<span class="hljs-string">&apos;UTF-8&apos;</span>)
</code></pre>
<ul>
<li><p>&#x7ED9;utf8&#x6587;&#x4EF6;&#x5199;&#x5165;BOM</p>
<pre><code>import codecs
fd.write(codecs.BOM_UTF8)
</code></pre></li>
<li><p>&#x795E;&#x5947;&#x7684;<code>__debug__</code>&#x53D8;&#x91CF;&#x80FD;&#x5B9E;&#x73B0;<code>#ifdef</code>&#xFF0C;&#x770B;<a href="http://stackoverflow.com/questions/12524570/how-do-you-implement-ifdef-in-python" target="_blank">&#x8FD9;&#x91CC;</a></p>
</li>
<li><p>&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7684;unicode&#x548C;str&#x4E92;&#x8F6C;&#x7684;&#x89E3;&#x7801;&#x683C;&#x5F0F;</p>
</li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> sys

reload(sys)
sys.setdefaultencoding(<span class="hljs-string">&apos;UTF-8&apos;</span>)
</code></pre>
<ul>
<li>mysql&#x6309;&#x5217;&#x540D;&#x53D6;&#x503C;</li>
</ul>
<pre><code class="lang-python">cursor = conn.cursor(MySQLdb.cursors.DictCursor)
cursor.execute(<span class="hljs-string">&quot;SELECT name, category FROM animal&quot;</span>)
result_set = cursor.fetchall()
<span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> result_set:
    <span class="hljs-keyword">print</span> <span class="hljs-string">&quot;%s, %s&quot;</span> % (row[<span class="hljs-string">&quot;name&quot;</span>], row[<span class="hljs-string">&quot;category&quot;</span>])
</code></pre>
<ul>
<li>pip&#x6E90;&#x6539;&#x6210;&#x963F;&#x91CC;&#x4E91;&#x7684;&#x955C;&#x50CF;&#x6E90;</li>
</ul>
<pre><code class="lang-ini"><span class="hljs-comment">; ~/.pip/pip.conf</span>
<span class="hljs-section">
[global]</span>
<span class="hljs-attr">trusted-host</span> =  mirrors.aliyun.com
<span class="hljs-attr">index-url</span> = http://mirrors.aliyun.com/pypi/simple
</code></pre>
<ul>
<li>jupyter&#x540C;&#x65F6;&#x4F7F;&#x7528;Python2&#x548C;Python3</li>
</ul>
<pre><code class="lang-bash">ipython  kernelspec install-self
ipython3 kernelspec install-self
</code></pre>
<ul>
<li>jsonp&#x8F6C;json</li>
</ul>
<pre><code class="lang-python">apijson = jsonp[ jsonp.index(<span class="hljs-string">&quot;(&quot;</span>) + <span class="hljs-number">1</span> : jsonp.rindex(<span class="hljs-string">&quot;)&quot;</span>) ]
</code></pre>
<ul>
<li><p><code>str.format</code>&#x6587;&#x6863; <a href="https://pyformat.info" target="_blank">https://pyformat.info</a></p>
</li>
<li><p><code>strftime</code>&#x6587;&#x6863; <a href="http://strftime.org" target="_blank">http://strftime.org</a></p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../../" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../c-cpp/" class="navigation navigation-next " aria-label="Next page: C/C++">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Python","level":"2.1","depth":1,"next":{"title":"C/C++","level":"2.2","depth":1,"path":"language/c-cpp/index.md","ref":"language/c-cpp/index.md","articles":[]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"language/python/index.md","mtime":"2017-05-02T11:47:57.268Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-05-25T05:31:05.440Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

